{"version":3,"sources":["constants/endpoint.ts","Context/UserContext.tsx","Pages/Home.tsx","Pages/auth/Signup.tsx","Pages/auth/Login.tsx","Pages/auth/Logout.tsx","Layout/NavigationBar/userMenu/UsermenuLoggedIn.tsx","Layout/NavigationBar/userMenu/UsermenuLoggedOut.tsx","Layout/NavigationBar/options/OptionsLoggedIn.tsx","Layout/NavigationBar/options/OptionsLoggedOut.tsx","Layout/NavigationBar/Navigation.tsx","Pages/invoice/qr/ShowQRCodeModal.tsx","Context/IdGeneration.tsx","utils/dateConverter.ts","Pages/dashboard/Filter.tsx","Layout/LoadingScreen.tsx","Pages/dashboard/TagsModal.tsx","Pages/dashboard/components/SendMailModal/index.tsx","Pages/dashboard/InvoicesList.tsx","Pages/dashboard/DashboardScreen.tsx","Context/PrivateRoute.tsx","Pages/invoice/generate/DownloadModal.tsx","Pages/invoice/generate/Signature.tsx","Pages/invoice/display/DisplayInvoice.tsx","Pages/invoice/display/EmailInput.tsx","Pages/invoice/display/ButtonsGroup.tsx","Pages/invoice/display/Bill.tsx","Pages/invoice/generate/GenerateInvoice.tsx","App.tsx","index.tsx"],"names":["endpoints","UserContext","createContext","UserContextProvider","children","history","useHistory","storedToken","localStorage","getItem","useState","isLoggedIn","level","token","name","userData","setUserData","Axios","post","headers","auth","then","response","setItem","data","catch","err","removeItem","ERROR","message","notify","show","push","Provider","value","Home","Container","Row","className","Col","role","aria-label","to","Button","icon","faLink","moment","format","Signup","user","useContext","email","password","repeatPassword","state","setState","validated","setValidated","handleChange","e","target","Form","noValidate","onSubmit","preventDefault","currentTarget","checkValidity","stopPropagation","success","error","Group","Label","Control","type","onChange","required","Feedback","variant","faCheck","Login","User","login","setLogin","md","sm","event","form","faCheckCircle","Logout","useEffect","onClick","UsermenuLoggedIn","NavDropdown","Item","faUserEdit","faDoorOpen","UsermenuLoggedOut","faUserCheck","faUserPlus","OptionsLoggedIn","Nav","faHome","faPlus","faColumns","OptionsLoggedOut","Navigation","Navbar","fixed","style","zIndex","bg","expand","Brand","Toggle","Collapse","title","id","height","ShowQRCodeModal","onHide","currentId","Modal","size","Body","rel","href","faTimesCircle","IdGeneration","generateId","IdGenerationProvider","uuidv4","dateConverter","date","toString","substr","Filter","submitFilter","isLoading","setIsLoading","from","tags","query","setQuery","Accordion","Card","as","Header","eventKey","Intl","DateTimeFormat","navigator","language","month","Date","startOf","endOf","disabled","faSearch","LoadingScreen","width","TagsModal","handleClose","invoiceId","prevTags","refreshData","setTags","arrayFromString","split","processedArray","item","trim","items","Error","put","saveTags","closeButton","Title","controlId","placeholder","Footer","SendMailModal","resetData","setEmail","isSendingMail","setIsSendingMail","invoice","Text","faPaperPlane","InvoicesList","completed","pending","deleteBill","dataForSign","setDataForSign","showTagsModal","setShowTagsModal","tagData","setTagData","toggleTagsModal","prevState","length","ListGroup","map","currency","amount","Badge","Math","random","alreadySent","isAlreadySent","OverlayTrigger","placement","overlay","Tooltip","emailAddress","faEnvelope","color","faTag","_id","faPen","faTrash","faPrint","DashboardScreen","pendingBills","setPendingBills","completedBills","setCompletedBills","axiosHeaders","getBills","_completedBills","get","_pendingBills","all","spread","bool","undefined","window","confirm","delete","res","PrivateRoute","Render","render","rest","props","DownloadModal","PDFFile","download","faDownload","socket","SignaturePad","require","Signature","signatureRef","useRef","useParams","socketId","showModal","setShowModal","setPDFFile","io","emit","on","file","showDeleteModal","alert","off","sendSign","current","toDataURL","concept","onTouchEnd","onMouseUp","ref","clear","sign","faShare","EmailInput","sendEmail","setRecipient","recipient","ButtonsGroup","exportPDFToFile","transformPDFToBase64","toggleEmailInput","hasSocketId","faFileDownload","faPhone","Bill","isOriginal","marginTop","paddingLeft","logo","src","alt","invoiceNumber","amountText","DisplayInvoice","showEmail","setShowEmail","drawDOM","paperSize","landscape","scale","group","exportPDF","emitPDFViaSocket","a","input","dateArray","slice","year","parseInt","dateTransformer","savePDF","fileName","day","socketRoomId","GenerateInvoice","toISOString","showQRCodeModal","setShowQRCodeModal","checked","newValue","newDate","oldstate","disconnect","showQRCodeModalAndGenerateCode","i","InputGroup","Prepend","min","htmlFor","faQrcode","Spinner","animation","faSave","App","basename","process","path","component","exact","tz","setDefault","locale","ReactDOM","StrictMode","options","top","colors","backgroundColor","document","getElementById"],"mappings":"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","file":"static/js/main.fb7f4917.chunk.js","sourcesContent":["export const endpoints = {\n  backend: 'https://recibapp.herokuapp.com/',\n  frontend: 'https://reciba.app/',\n};\n\n// export const endpoints = {\n//   backend: 'http://192.168.100.57:8000/',\n//   frontend: 'http://192.168.100.57:3000/',\n// };\n","import React, { createContext, useState } from 'react';\nimport Axios from 'axios';\nimport { notify } from 'react-notify-toast';\nimport { useHistory } from 'react-router-dom';\nimport { endpoints } from '../constants/endpoint';\n\ntype ContextProps = {\n  isLoggedIn: boolean;\n  level: number;\n  token: string;\n  name: string;\n  setUserData: any;\n};\n\nexport const UserContext = createContext<Partial<ContextProps>>({});\n\nconst UserContextProvider = ({ children }: { children: React.ReactNode }) => {\n  const history = useHistory();\n  const storedToken = localStorage.getItem('bill-token');\n  const [userData, setUserData] = useState({\n    isLoggedIn: false,\n    level: 9,\n    token: '',\n    name: '',\n  });\n\n  if (storedToken && !userData.isLoggedIn) {\n    Axios.post(\n      `${endpoints.backend}api/user/loggedInUser`,\n      { storedToken },\n      { headers: { auth: localStorage.getItem('bill-token') } }\n    )\n      .then((response) => {\n        localStorage.setItem('bill-token', response.data.data.token);\n        setUserData({\n          isLoggedIn: true,\n          level: 9,\n          token: response.data.data.token,\n          name: response.data.data.name,\n        });\n      })\n      .catch((err) => {\n        localStorage.removeItem('bill-token');\n        const ERROR = err.response ? err.response.data.message : err.message;\n        notify.show(ERROR, 'error');\n        setUserData({\n          isLoggedIn: false,\n          level: 9,\n          token: '',\n          name: '',\n        });\n        history.push('/');\n      });\n  }\n\n  return (\n    <UserContext.Provider value={{ ...userData, setUserData }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContextProvider;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLink } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\n\nexport default function Home() {\n  return (\n    <Container>\n      <Row className=\"h-100-minus align-items-center\">\n        <Col>\n          <h1>\n            Basta de usar papel para tus comprobantes\n            <span role=\"img\" aria-label=\"Page\">\n              游늮\n            </span>\n          </h1>\n\n          <p className=\"lead\">\n            춰Ahora pod칠s hacer todo digital! Cre치, guard치, envi치 comprobantes\n            desde tu casa sin necesidad de contacto f칤sico.\n          </p>\n\n          <Link to=\"/invoice/generate\">\n            <Button>\n              <FontAwesomeIcon icon={faLink} /> Comenz치 ahora\n            </Button>\n          </Link>\n        </Col>\n\n        <Col className=\"text-right\">\n          <h6>Hora actual:</h6>\n          <h3>{moment().format('MMMM Do YYYY, h:mm:ss a')}</h3>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Axios from 'axios';\nimport { notify } from 'react-notify-toast';\n// import HCaptcha from '@hcaptcha/react-hcaptcha';\nimport { UserContext } from '../../Context/UserContext';\nimport { endpoints } from '../../constants/endpoint';\n\nexport default function Signup() {\n  const history = useHistory();\n  const user = useContext(UserContext);\n\n  const [state, setState] = useState({\n    name: '',\n    email: '',\n    password: '',\n    repeatPassword: '',\n  });\n\n  const [validated, setValidated] = useState(false);\n\n  const handleSubmit = (e: {\n    preventDefault: () => void;\n    currentTarget: any;\n    stopPropagation: () => void;\n  }) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    if (form.checkValidity() === false) {\n      e.stopPropagation();\n      notify.show('Por favor, verifique los datos antes de continuar', 'error');\n    } else {\n      e.stopPropagation();\n      Axios.post(`${endpoints.backend}api/user/register`, {\n        email: state.email,\n        password: state.password,\n        name: state.name,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            Axios.post(`${endpoints.backend}api/user/login`, {\n              email: state.email,\n              password: state.password,\n            })\n              .then(({ data }) => {\n                if (data.success) {\n                  user.setUserData({\n                    isLoggedIn: true,\n                    token: data.data.token,\n                    name: data.data.name,\n                  });\n                  localStorage.setItem('bill-token', data.data.token);\n                  notify.show(`${data.message}`, 'success');\n                  history.push('/');\n                } else {\n                  notify.show('Ocurri칩 un error, reintente por favor', 'error');\n                }\n              })\n              .catch((err) => {\n                notify.show(`${err.response.data.message}`, 'error');\n              });\n          } else {\n            notify.show(`Error: ${response.data.message}`, 'error');\n          }\n        })\n        .catch((err) => {\n          try {\n            notify.show(`${err.response.data.message}`, 'error');\n          } catch (error) {\n            notify.show(`${error.message}`, 'error');\n          }\n        });\n    }\n\n    setValidated(true);\n  };\n\n  const handleChange = (e: { target: { name: any; value: any } }) => {\n    const { name, value } = e.target;\n    setState({ ...state, [name]: value });\n  };\n\n  return (\n    <Container>\n      <Row className=\"h-100-minus align-items-center\">\n        <Col>\n          <h1>Inicie sesi칩n para tener m치s beneficios</h1>\n          <p className=\"lead\">\n            Lorem ipsum dolor sit, amet consectetur adipisicing elit. At, nisi.\n            Provident ipsum praesentium numquam sapiente.\n          </p>\n        </Col>\n        <Col className=\"bg-light shadow p-3 rounded\">\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Nombre</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"name\"\n                onChange={handleChange}\n                value={state.name}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                Por favor ingrese su nombre{' '}\n              </Form.Control.Feedback>\n            </Form.Group>\n\n            <Form.Group>\n              <Form.Label>Direcci칩n de correo</Form.Label>\n              <Form.Control\n                type=\"email\"\n                name=\"email\"\n                onChange={handleChange}\n                value={state.email}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                Ingrese un e-mail v치lido\n              </Form.Control.Feedback>\n            </Form.Group>\n            <Row>\n              <Col>\n                <Form.Group>\n                  <Form.Label>Contrase침a</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={state.password}\n                    required\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    Por favor, ingrese una contrase침a\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group>\n                  <Form.Label>Repita la contrase침a</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"repeatPassword\"\n                    onChange={handleChange}\n                    value={state.repeatPassword}\n                    required\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    Verifique que la contrase침a sea igual en ambos casos\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group>\n              <Form.Label>Captcha!</Form.Label>\n              {/* <HCaptcha\n                sitekey=\"be3fd67b-1a61-4936-b57f-600e3765988f\"\n                onVerify={(token) => console.log(token)}\n              /> */}\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              <FontAwesomeIcon icon={faCheck} /> Guardar datos\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Col, Container, Form, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\nimport { notify } from 'react-notify-toast';\nimport Axios from 'axios';\nimport { UserContext } from '../../Context/UserContext';\nimport { endpoints } from '../../constants/endpoint';\n\nexport default function Login() {\n  const User = useContext(UserContext);\n  const [login, setLogin] = useState({ email: '', password: '' });\n  const [validated, setValidated] = useState(false);\n  const history = useHistory();\n\n  /**\n   * Maneja el estado correspondiente a cada input\n   *\n   * @param e Input\n   */\n  const handleChange = (e: { target: { name: any; value: any } }) => {\n    const { name, value } = e.target;\n    setLogin({ ...login, [name]: value });\n  };\n\n  /**\n   * Env칤a los datos al servidor para guardar\n   *\n   * @param event Formulario\n   */\n  const onSubmit = (event: {\n    currentTarget: any;\n    preventDefault: () => void;\n    stopPropagation: () => void;\n  }) => {\n    const form = event.currentTarget;\n    event.preventDefault();\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n      notify.show('Por favor verifique los datos antes de continuar', 'error');\n    } else {\n      event.stopPropagation();\n      Axios.post(`${endpoints.backend}api/user/login`, login)\n        .then(({ data }) => {\n          if (data.success) {\n            User.setUserData({\n              isLoggedIn: true,\n              token: data.data.token,\n              name: data.data.name,\n            });\n            localStorage.setItem('bill-token', data.data.token);\n            notify.show(`${data.message}`, 'success');\n            history.push('/');\n          } else {\n            notify.show('Ocurri칩 un error, por favor reintente', 'error');\n          }\n        })\n        .catch((err) => {\n          const error = err.response ? err.response.data.message : err.message;\n          notify.show(`${error}`, 'error');\n        });\n    }\n\n    setValidated(true);\n  };\n\n  return (\n    <Container>\n      <Row className=\"h-100-minus align-items-center\">\n        <Col />\n        <Col md={6} sm={12} className=\"shadow rounded bg-light p-3\">\n          <Form onSubmit={onSubmit} noValidate validated={validated}>\n            <Form.Group>\n              <Form.Label>Direcci칩n de correo</Form.Label>\n              <Form.Control\n                type=\"email\"\n                name=\"email\"\n                value={login.email}\n                onChange={handleChange}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                Por favor ingrese un e-mail v치lido\n              </Form.Control.Feedback>\n            </Form.Group>\n\n            <Form.Group>\n              <Form.Label>Contrase침a</Form.Label>\n              <Form.Control\n                type=\"password\"\n                name=\"password\"\n                value={login.password}\n                onChange={handleChange}\n                required\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                Ingrese su contrase침a\n              </Form.Control.Feedback>\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              <FontAwesomeIcon icon={faCheckCircle} /> Iniciar sesi칩n\n            </Button>\n          </Form>\n        </Col>\n        <Col />\n      </Row>\n    </Container>\n  );\n}\n","import React, { useContext, useEffect } from 'react';\nimport { Row, Col, Container, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../Context/UserContext';\n\nexport default function Logout() {\n  const User = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    localStorage.removeItem('bill-token');\n    User.setUserData({\n      isLoggedIn: false,\n      level: 9,\n      token: '',\n      name: '',\n    });\n\n    // eslint-disable-next-line\n  }, []);\r\n\n  return (\n    <Container>\n      <Row className=\"h-100-minus align-items-center\">\n        <Col className=\"text-center\">\n          <h1>\n            Que l치stima verte partir{' '}\n            <span role=\"img\" aria-label=\"sad\">\n              游땩\n            </span>\n          </h1>\n          <p>춰Ojal치 podamos volverte a ver!</p>\n          <Button className=\"mt-5\" onClick={() => history.push('/')}>\n            Ir a la p치gina principal\n          </Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import { faUserEdit, faDoorOpen } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { NavDropdown } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nexport default function UsermenuLoggedIn() {\n  return (\n    <div>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/profile\">\n          <FontAwesomeIcon icon={faUserEdit} className=\"mr-1\" /> Perfil\n        </Link>\n      </NavDropdown.Item>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/logout\">\n          <FontAwesomeIcon icon={faDoorOpen} className=\"mr-1\" /> Cerrar sesi칩n\n        </Link>\n      </NavDropdown.Item>\n    </div>\n  );\n}\n","import { faUserCheck, faUserPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { NavDropdown } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nexport default function UsermenuLoggedOut() {\n  return (\n    <div>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/login\">\n          <FontAwesomeIcon icon={faUserCheck} className=\"mr-1\" /> Iniciar sesi칩n\n        </Link>\n      </NavDropdown.Item>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/signup\">\n          <FontAwesomeIcon icon={faUserPlus} className=\"mr-1\" /> Crear usuario\n        </Link>\n      </NavDropdown.Item>\n    </div>\n  );\n}\n","import { faColumns, faHome, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nexport default function OptionsLoggedIn() {\n  return (\n    <Nav className=\"mr-auto\">\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/\">\n        <FontAwesomeIcon icon={faHome} /> Principal\n      </Link>\n      <Link\n        className=\"text-light mr-3 text-decoration-none\"\n        to=\"/invoice/generate\"\n      >\n        <FontAwesomeIcon icon={faPlus} /> Crear nueva boleta\n      </Link>\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/dashboard\">\n        <FontAwesomeIcon icon={faColumns} /> Dashboard\n      </Link>\n    </Nav>\n  );\n}\n","import { faHome } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nexport default function OptionsLoggedOut() {\n  return (\n    <Nav className=\"mr-auto\">\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/\">\n        <FontAwesomeIcon icon={faHome} /> Principal\n      </Link>\n    </Nav>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../../Context/UserContext';\nimport UsermenuLoggedIn from './userMenu/UsermenuLoggedIn';\nimport UsermenuLoggedOut from './userMenu/UsermenuLoggedOut';\nimport OptionsLoggedIn from './options/OptionsLoggedIn';\nimport OptionsLoggedOut from './options/OptionsLoggedOut';\n\nexport default function Navigation() {\n  const user = useContext(UserContext);\n\n  return (\n    <>\n      <Navbar\n        fixed=\"top\"\n        style={{ zIndex: 999 }}\n        bg=\"primary\"\n        variant=\"dark\"\n        expand=\"lg\"\n      >\n        <Link to=\"/\">\n          <Navbar.Brand>reciba.app</Navbar.Brand>\n        </Link>\n        <Navbar.Toggle />\n        <Navbar.Collapse>\n          {!user.isLoggedIn ? <OptionsLoggedOut /> : <OptionsLoggedIn />}\n          <Nav className=\"ml-auto\">\n            <NavDropdown\n              title={`Usuario actual: ${\n                user.isLoggedIn ? user.name : 'invitado'\n              }`}\n              id=\"collasible-nav-dropdown\"\n            >\n              {!user.isLoggedIn ? <UsermenuLoggedOut /> : <UsermenuLoggedIn />}\n            </NavDropdown>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <div style={{ height: 35 }} />\n    </>\n  );\n}\n","import React from 'react';\nimport QRCode from 'qrcode.react';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport './QRCode.css';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { endpoints } from '../../../constants/endpoint';\n\nexport default function ShowQRCodeModal({\n  show = true,\n  onHide = () => {\n    const newShow = !show;\n    return newShow;\n  },\n  currentId = 'Error',\n}: {\n  show: boolean;\n  onHide: () => void;\n  currentId: string;\n}) {\n  return (\n    <Modal size=\"xl\" show={show} onHide={onHide}>\n      <Modal.Body>\n        <Row>\n          <Col>\n            <p className=\"lead text-center\">\n              Escanee el c칩digo con el celular para poder firmar en este\n              comprobante\n            </p>\n          </Col>\n        </Row>\n        <Row className=\"my-5\">\n          <Col />\n          <Col className=\"bg-white shadow rounded p-3\" md={3}>\n            <QRCode\n              size={200}\n              value={`${endpoints.frontend}#/signature/${currentId}`}\n            />\n          </Col>\n          <Col />\n        </Row>\n        <Row>\n          <Col className=\"text-center\">\n            <small>\n              Tambi칠n puede ingresar ac치 para firmar{' '}\n              <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={`${endpoints.frontend}#/signature/${currentId}`}\n              >\n                {`${endpoints.frontend}#/signature/${currentId}`}\n              </a>\n            </small>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"text-center\">\n            <p className=\"lead\">\n              Al finalizar la firma, presionar para continuar\n            </p>\n            <Button onClick={onHide}>\n              <FontAwesomeIcon icon={faTimesCircle} /> Cerrar\n            </Button>\n          </Col>\n        </Row>\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { createContext, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface Context {\n  generateId: () => string;\n  currentId: string;\n}\n\nexport const IdGeneration = createContext<Context>({\n  generateId: () => '',\n  currentId: '',\n});\n\nexport default function IdGenerationProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [currentId] = useState('');\n\n  const generateId = () => {\n    const newId = uuidv4();\n    return newId;\n  };\n\n  return (\n    <IdGeneration.Provider value={{ generateId, currentId }}>\n      {children}\n    </IdGeneration.Provider>\n  );\n}\n","export function dateConverter(date: string | Date) {\n  return date.toString().substr(0, 10);\n}\n","import { faSearch, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useState } from 'react';\nimport { Accordion, Button, Card, Col, Form, Row } from 'react-bootstrap';\nimport moment from 'moment';\nimport { queryType } from '../../Interfaces/invoice';\nimport { dateConverter } from '../../utils/dateConverter';\n\nexport default function Filter({\n  submitFilter,\n  isLoading,\n  setIsLoading,\n}: {\n  submitFilter: (query: queryType) => void;\n  isLoading: boolean;\n  setIsLoading: (_isLoading: boolean) => void;\n}) {\n  const [query, setQuery] = useState<queryType>({\n    from: '',\n    to: '',\n    tags: '',\n  });\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n\n    setIsLoading(true);\n    submitFilter({\n      from: query.from\n        ? moment(query.from).startOf('day').format('YYYY-MM-DD')\n        : 'undefined',\n      to: query.to\n        ? moment(query.to).endOf('day').format('YYYY-MM-DD')\n        : 'undefined',\n      tags: query.tags,\n    });\n  };\n\n  const clearSearch = () => {\n    setIsLoading(true);\n    submitFilter({});\n    setQuery({ from: '', to: '', tags: '' });\n  };\n\n  const handleChange = (e: { target: { name: any; value: any } }) => {\n    const { name, value } = e.target;\n    setQuery({ ...query, [name]: value });\n  };\n\n  const filterDisplay = () => {\n    if (query.from || query.to) {\n      return (\n        <small className=\"text-muted border rounded p-1\">\n          {`${\n            query.from\n              ? `Desde: ${moment(dateConverter(query.from)).format('L')}`\n              : ''\n          } ${\n            query.to\n              ? `Hasta: ${moment(dateConverter(query.to)).format('L')}`\n              : ''\n          }`}\n        </small>\n      );\n    }\n    return (\n      <small className=\"text-muted border rounded p-1\">\n        {`Mostrando las boletas de ${Intl.DateTimeFormat(navigator.language, {\n          month: 'long',\n        }).format(new Date())}`}\n      </small>\n    );\n  };\n\n  return (\n    <Col className=\"bg-white rounded shadow p-3 mb-3\">\n      <Accordion>\n        <Card>\n          <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n            Filtros {filterDisplay()}\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"0\">\n            <Card.Body>\n              <Form onSubmit={handleSubmit}>\n                <Row>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Etiqueta</Form.Label>\n                      <Form.Control\n                        name=\"tags\"\n                        value={query.tags}\n                        onChange={handleChange}\n                        type=\"text\"\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Desde</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        onChange={handleChange}\n                        name=\"from\"\n                        value={query.from}\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Hasta</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        onChange={handleChange}\n                        name=\"to\"\n                        value={query.to}\n                      />\n                    </Form.Group>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col className=\"d-flex justify-content-end w-100\">\n                    <Button\n                      disabled={isLoading}\n                      className=\"mr-3\"\n                      variant=\"success\"\n                      type=\"submit\"\n                    >\n                      <FontAwesomeIcon icon={faSearch} /> Buscar\n                    </Button>\n\n                    <Button\n                      disabled={isLoading}\n                      onClick={clearSearch}\n                      variant=\"danger\"\n                    >\n                      <FontAwesomeIcon icon={faTimesCircle} /> Limpiar b칰squeda\n                    </Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n    </Col>\n  );\n}\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nexport default function LoadingScreen() {\n  return (\n    <Container>\n      <Row style={{ height: '65vh' }}>\n        <Col />\n        <Col md={2} className=\"my-auto shadow bg-light rounded py-4\">\n          <div className=\"m-auto\" style={{ width: '4rem', height: '4rem' }}>\n            <div className=\"spinner\" />\n          </div>\n          <h1 className=\"mt-3 lead text-gray text-center\">cargando datos...</h1>\n        </Col>\n        <Col />\n      </Row>\n    </Container>\n  );\n}\n","import Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { notify } from 'react-notify-toast';\nimport { endpoints } from '../../constants/endpoint';\n\nexport default function TagsModal({\n  show,\n  handleClose,\n  invoiceId,\n  prevTags,\n  refreshData,\n}: {\n  show: boolean;\n  invoiceId: string;\n  handleClose: () => void;\n  refreshData: () => void;\n  prevTags?: string[];\n}) {\n  const [tags, setTags] = useState('');\n\n  useEffect(() => {\n    if (prevTags !== []) {\n      setTags(prevTags ? prevTags.toString() : '');\n    }\n\n    // eslint-disable-next-line\n  }, [invoiceId]);\n\n  const saveTags = (items: string[]) => {\n    if (invoiceId === '') {\n      throw Error('No hay invoice id especificado');\n    }\n    Axios.put(\n      `${endpoints.backend}api/invoice/edit/${invoiceId}`,\n      { tags: items },\n      {\n        headers: { auth: localStorage.getItem('bill-token') },\n      }\n    )\n      .then(({ data }) => {\n        notify.show('Datos guardados', 'success');\n        refreshData();\n        handleClose();\n      })\n      .catch((err) => {\n        notify.show(err.message, 'error');\n      });\n  };\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n    const arrayFromString = tags.split(',');\n    const processedArray = [];\n    for (const item of arrayFromString) {\n      processedArray.push(item.trim());\n    }\n\n    saveTags(processedArray);\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Form onSubmit={handleSubmit}>\n        <Modal.Header closeButton>\n          <Modal.Title>Agregar etiquetas</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Etiquetas separadas por comas</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"pendiente, seguimiento\"\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Cancelar\n          </Button>\n          <Button variant=\"primary\" type=\"submit\">\n            Guardar\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n}\n","import React, { useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPaperPlane, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport Axios from 'axios';\nimport { endpoints } from 'constants/endpoint';\nimport { notify } from 'react-notify-toast';\n\ninterface Props {\n  resetData: () => void;\n  show: boolean;\n  data: {\n    invoice: string;\n    from: string;\n  };\n}\n\nfunction SendMailModal({ resetData, show, data }: Props) {\n  const [email, setEmail] = useState('');\n  const [isSendingMail, setIsSendingMail] = useState(false);\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n    setIsSendingMail(true);\n\n    if (email === '') {\n      notify.show('Debe especificar un mail v치lido', 'error');\n      setIsSendingMail(false);\n    } else {\n      Axios.post(`${endpoints.backend}api/mail/send/signaturePetition/`, {\n        invoiceId: data.invoice,\n        from: data.from,\n        to: email,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            notify.show(response.data.message, 'success');\n            setIsSendingMail(false);\n            setEmail('');\n            resetData();\n          } else {\n            notify.show(response.data.message, 'warning');\n            setIsSendingMail(false);\n          }\n        })\n        .catch((err) => {\n          notify.show('Ocurri칩 un error enviando el mail, reintente', 'error');\n          setIsSendingMail(false);\n        });\n    }\n  };\n\n  return (\n    <Modal\n      size=\"xl\"\n      show={show}\n      onHide={() => {\n        resetData();\n        setEmail('');\n      }}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Enviar por mail</Modal.Title>\n      </Modal.Header>\n      <Form onSubmit={handleSubmit}>\n        <Modal.Body>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Direcci칩n de correo:</Form.Label>\n            <Form.Control\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Form.Text className=\"text-muted\">\n              Tambi칠n pod칠s copiar este link y pasarle por privado:{' '}\n              <a\n                href={`${endpoints.frontend}#/offlinesignature/${data.invoice}`}\n              >\n                {`${endpoints.frontend}#/offlinesignature/${data.invoice}`}\n              </a>\n            </Form.Text>\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            disabled={isSendingMail}\n            onClick={() => {\n              resetData();\n              setEmail('');\n            }}\n            variant=\"secondary\"\n          >\n            <FontAwesomeIcon icon={faTimesCircle} /> Cerrar\n          </Button>\n          <Button disabled={isSendingMail} type=\"submit\" variant=\"primary\">\n            <FontAwesomeIcon icon={faPaperPlane} />{' '}\n            {isSendingMail ? 'Espere un momento...' : 'Enviar'}\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n}\n\nexport default SendMailModal;\n","/* eslint-disable no-alert */\nimport { faEnvelope } from '@fortawesome/free-regular-svg-icons';\nimport {\n  faPaperPlane,\n  faPen,\n  faPrint,\n  faTag,\n  faTrash,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useState } from 'react';\nimport {\n  Badge,\n  Col,\n  ListGroup,\n  OverlayTrigger,\n  Row,\n  Tooltip,\n} from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport { Invoice, queryType } from '../../Interfaces/invoice';\nimport LoadingScreen from '../../Layout/LoadingScreen';\nimport TagsModal from './TagsModal';\nimport { dateConverter } from '../../utils/dateConverter';\nimport SendMailModal from './components/SendMailModal';\n\nexport default function InvoicesList({\n  completed,\n  pending,\n  deleteBill,\n  refreshData,\n  isLoading,\n}: {\n  isLoading: boolean;\n  completed: Invoice[];\n  pending: Invoice[];\n  deleteBill: (id: string | undefined) => void;\n  refreshData: (query: queryType) => void;\n}) {\n  const history = useHistory();\n\n  const [dataForSign, setDataForSign] = useState({ invoice: '', from: '' });\n  const [showTagsModal, setShowTagsModal] = useState(false);\n  const [tagData, setTagData] = useState<{ id: string; prevTags: string[] }>({\n    id: '',\n    prevTags: [],\n  });\n\n  const toggleTagsModal = (id = '', prevTags: string[] = []) => {\n    setTagData({\n      id,\n      prevTags,\n    });\n    setShowTagsModal((prevState) => !prevState);\n  };\n\n  if (isLoading) {\n    return <LoadingScreen />;\n  }\n  return (\n    <>\n      <SendMailModal\n        resetData={() => {\n          setDataForSign({ invoice: '', from: '' });\n          refreshData({ from: '', to: '', tags: '' });\n        }}\n        show={dataForSign.invoice !== '' && dataForSign.from !== ''}\n        data={dataForSign}\n      />\n      <TagsModal\n        show={showTagsModal}\n        handleClose={() => toggleTagsModal()}\n        invoiceId={tagData.id}\n        prevTags={tagData.prevTags}\n        refreshData={() => refreshData({})}\n      />\n      <Col className=\"bg-white rounded shadow p-3 mb-3\">\n        <small className=\"text-muted\">\n          Boletas pendientes - {pending.length}\n        </small>\n        <ListGroup>\n          {pending.map((invoice) => (\n            <ListGroup.Item key={Math.random()}>\n              <Row>\n                <Col md=\"2\">\n                  {moment(dateConverter(invoice.date)).format('L')}\n                </Col>\n                <Col>\n                  {invoice.from}{' '}\n                  <small>\n                    ({invoice.currency} ${invoice.amount})\n                  </small>\n                  {invoice.tags?.map((item: string) => (\n                    <Badge key={Math.random()} variant=\"info\" className=\"ml-1\">\n                      {item}\n                    </Badge>\n                  ))}{' '}\n                  {invoice.alreadySent?.isAlreadySent ? (\n                    <OverlayTrigger\n                      placement=\"top\"\n                      overlay={\n                        <Tooltip id=\"mail-already-sent\">\n                          Mail ya enviado a: {invoice.alreadySent?.emailAddress}\n                        </Tooltip>\n                      }\n                    >\n                      <FontAwesomeIcon\n                        icon={faEnvelope}\n                        style={{ color: '#6DB65B' }}\n                      />\n                    </OverlayTrigger>\n                  ) : null}\n                </Col>\n                <Col md=\"2\" className=\"text-right text-primary\">\n                  <FontAwesomeIcon\n                    icon={faTag}\n                    className=\"pointer\"\n                    onClick={() => toggleTagsModal(invoice._id, invoice.tags)}\n                  />\n                  <FontAwesomeIcon\n                    onClick={() =>\n                      history.push(`/invoice/edit/${invoice._id}/`)\n                    }\n                    className=\"pointer mx-3\"\n                    icon={faPen}\n                  />\n                  <FontAwesomeIcon\n                    onClick={() => deleteBill(invoice._id)}\n                    className=\"pointer mr-3\"\n                    icon={faTrash}\n                  />\n                  <FontAwesomeIcon\n                    className=\"pointer\"\n                    onClick={() =>\n                      setDataForSign({\n                        invoice: invoice._id ? invoice._id : '',\n                        from: invoice.from,\n                      })\n                    }\n                    icon={faPaperPlane}\n                  />\n                </Col>\n              </Row>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n        <hr />\n        <small className=\"text-muted\">\n          Boletas finalizadas - {completed.length}\n        </small>\n        <ListGroup>\n          {completed.map((invoice) => (\n            <ListGroup.Item key={Math.random()}>\n              <Row>\n                <Col md=\"2\">\n                  {moment(dateConverter(invoice.date)).format('L')}\n                </Col>\n                <Col>\n                  {invoice.from}{' '}\n                  <small>\n                    ({invoice.currency} ${invoice.amount})\n                  </small>\n                  {invoice.tags?.map((item: string) => (\n                    <Badge key={Math.random()} variant=\"info\" className=\"ml-1\">\n                      {item}\n                    </Badge>\n                  ))}{' '}\n                </Col>\n                <Col md=\"2\" className=\"text-right text-primary\">\n                  <FontAwesomeIcon\n                    className=\"pointer\"\n                    icon={faTag}\n                    onClick={() => toggleTagsModal(invoice._id, invoice.tags)}\n                  />\n\n                  <FontAwesomeIcon\n                    onClick={() =>\n                      history.push(`/invoice/edit/${invoice._id}/`)\n                    }\n                    className=\"ml-3 pointer\"\n                    icon={faPen}\n                  />\n                  <FontAwesomeIcon\n                    onClick={() =>\n                      history.push(`/invoice/display/${invoice._id}/no`)\n                    }\n                    icon={faPrint}\n                    className=\"mx-3 pointer\"\n                  />\n                  <FontAwesomeIcon\n                    onClick={() => deleteBill(invoice._id)}\n                    className=\"pointer\"\n                    icon={faTrash}\n                  />\n                </Col>\n              </Row>{' '}\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </Col>\n    </>\n  );\n}\n","/* eslint-disable no-alert */\nimport Axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport { notify } from 'react-notify-toast';\nimport { useHistory } from 'react-router-dom';\nimport { endpoints } from '../../constants/endpoint';\nimport { Invoice, queryType } from '../../Interfaces/invoice';\nimport Filter from './Filter';\nimport InvoicesList from './InvoicesList';\n\nexport default function DashboardScreen() {\n  const history = useHistory();\n  const [pendingBills, setPendingBills] = useState<Invoice[]>([]);\n  const [completedBills, setCompletedBills] = useState<Invoice[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const axiosHeaders = {\n    headers: { auth: localStorage.getItem('bill-token') },\n  };\n\n  const getBills = (query: queryType) => {\n    const _completedBills = Axios.get(\n      `${endpoints.backend}api/invoice/completed?from=${query.from}&to=${query.to}&tags=${query.tags}`,\n      axiosHeaders\n    );\n    const _pendingBills = Axios.get(\n      `${endpoints.backend}api/invoice/pending?from=${query.from}&to=${query.to}&tags=${query.tags}`,\n      axiosHeaders\n    );\n\n    Axios.all([_completedBills, _pendingBills])\n      .then(\n        Axios.spread((...response) => {\n          setCompletedBills(response[0].data.data);\n          setPendingBills(response[1].data.data);\n          setIsLoading(false);\n        })\n      )\n      .catch((err) => {\n        notify.show('Ocurri칩 un error trayendo los datos', 'error');\n        history.push('/');\n      });\n  };\n\n  const deleteBill = (id: string | undefined) => {\n    if (\n      id !== undefined &&\n      window.confirm('Advertencia, se borrar치 la boleta. 쮻esea Confirmar?')\n    ) {\n      Axios.delete(`${endpoints.backend}api/invoice/${id}`, axiosHeaders)\n        .then((res) => {\n          if (res.data.success) {\n            notify.show('Boleta eliminada', 'success');\n            getBills({});\n          } else {\n            notify.show(res.data.message, 'warning');\n          }\n        })\n        .catch((err) => {\n          notify.show(err.response.data.message, 'error');\n        });\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getBills({});\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Container className=\"my-5\">\n      <Row className=\"h-100-minus\">\n        <Col>\n          <Filter\n            isLoading={isLoading}\n            setIsLoading={(bool) => setIsLoading(bool)}\n            submitFilter={(query: queryType) => getBills(query)}\n          />\n          <InvoicesList\n            isLoading={isLoading}\n            refreshData={(query: queryType) => getBills(query)}\n            deleteBill={(id: string | undefined) => deleteBill(id)}\n            completed={completedBills}\n            pending={pendingBills}\n          />\n          {/* <PaginationBar /> */}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { UserContext } from './UserContext';\n\nconst PrivateRoute = ({ render: Render, ...rest }: any) => {\n  const User = useContext(UserContext);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (User.isLoggedIn || localStorage.getItem('bill-token')) {\n          return <Render {...props} />;\n        }\n        return <Redirect to=\"/\" />;\n      }}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { faTimesCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faDownload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nexport default function DownloadModal({\n  show,\n  handleClose,\n  PDFFile,\n}: {\n  show: boolean;\n  handleClose: () => void;\n  PDFFile: string;\n}) {\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>춰Boleta lista!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Su boleta ha sido generada con 칠xito. 쮻esea descargar una copia?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          <FontAwesomeIcon icon={faTimesCircle} /> Ignorar\n        </Button>\n        <a download=\"Comprobante.pdf\" href={PDFFile}>\n          <Button>\n            <FontAwesomeIcon icon={faDownload} /> Descargar comprobante\n          </Button>\n        </a>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n","import { faShare, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Axios from 'axios';\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Container, Button, Row, Col } from 'react-bootstrap';\nimport { notify } from 'react-notify-toast';\nimport { useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport { endpoints } from '../../../constants/endpoint';\nimport { Invoice } from '../../../Interfaces/invoice';\nimport DownloadModal from './DownloadModal';\n\nconst SignaturePad = require('react-signature-pad');\n\nlet socket: SocketIOClient.Socket;\n\nexport default function Signature() {\n  const signatureRef: any = useRef();\n  const { socketId, invoiceId } = useParams<\n    Partial<{\n      socketId: string;\n      invoiceId: string;\n    }>\n  >();\n  const [showModal, setShowModal] = useState(false);\n  const [PDFFile, setPDFFile] = useState('');\n  const [state, setState] = useState<Partial<Invoice>>({});\n\n  useEffect(() => {\n    if (socketId) {\n      socket = io(endpoints.backend);\n      socket.emit('join', socketId);\n      socket.emit('close', false);\n\n      socket.on('pdf', (file: string) => {\n        setPDFFile(file);\n        showDeleteModal();\n      });\n    } else if (invoiceId) {\n      Axios.get(`${endpoints.backend}api/invoice/single/${invoiceId}`)\n        .then(({ data }) => {\n          if (data.success) {\n            setState(data.data);\n          }\n        })\n        // eslint-disable-next-line no-alert\n        .catch((err: any) => alert(err.response.data.message));\n    }\n\n    return () => {\n      if (socketId) {\n        socket.off('pdf');\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [endpoints.backend]);\n\n  const sendSign = () => {\n    if (socketId) {\n      socket.emit('sign', signatureRef.current.toDataURL());\n    }\n  };\n\n  const showDeleteModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const submitSignature = () => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm(`쮺onfirma el envio de la firma a ${state.from}?`)) {\n      Axios.put(`${endpoints.backend}api/invoice/addSignature/${invoiceId}`, {\n        ...state,\n        sign: signatureRef.current.toDataURL(),\n      })\n        .then((response) => {\n          notify.show(\n            'Se ha firmado correctamente. Ya puede salir de esta app.',\n            'success'\n          );\n        })\n        .catch((err) => {\n          const ERROR = err.response ? err.response.data.message : err.message;\n          notify.show(ERROR, 'error');\n        });\n    }\n  };\n\n  return (\n    <Container className=\"h-100-minus mt-5\">\n      <DownloadModal\n        PDFFile={PDFFile}\n        show={showModal}\n        handleClose={showDeleteModal}\n      />\n      <Row className={invoiceId ? 'd-block' : 'd-none'}>\n        <Col className=\"text-center\">\n          <h1>춰Hola!</h1>\n\n          <p>\n            Recibi칩 esta boleta de <strong>{state.from}</strong> con el concepto\n            de <strong>{state.concept}</strong> por el monto total de{' '}\n            <strong>\n              {state.currency}\n              {state.amount}\n            </strong>\n          </p>\n\n          <hr />\n        </Col>\n      </Row>\n      <Row>\n        <Col className=\"text-center\">\n          <p className=\"lead m-0\">Firme en el campo en blanco para continuar</p>\n          <small className=\"text-muted\">\n            Coloque el tel칠fono en modo horizontal para mejor resultado\n          </small>\n        </Col>\n      </Row>\n      <Row className=\"my-5\">\n        <Col\n          onTouchEnd={sendSign}\n          onMouseUp={sendSign}\n          className=\"bg-white shadow rounded\"\n        >\n          <SignaturePad ref={signatureRef} />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Button\n            className=\"w-100\"\n            variant=\"danger\"\n            onClick={() => {\n              signatureRef.current.clear();\n              sendSign();\n            }}\n          >\n            <FontAwesomeIcon icon={faTimesCircle} /> Reiniciar Firma\n          </Button>\n        </Col>\n        <Col className={invoiceId ? 'd-block' : 'd-none'}>\n          <Button className=\"w-100\" variant=\"success\" onClick={submitSignature}>\n            <FontAwesomeIcon icon={faShare} /> Enviar firma\n          </Button>\n        </Col>\n      </Row>\n      <Row className={socketId ? 'd-block my-5 text-center' : 'd-none'}>\n        <Col>\n          <p className=\"lead\">춰No cierre esta p치gina!</p>\n          <p>\n            Cuando se genere el comprobante, debajo aparecer치 un bot칩n para\n            descargarlo\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Container, Row } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { savePDF } from '@progress/kendo-react-pdf';\nimport { drawDOM, exportPDF } from '@progress/kendo-drawing';\nimport { notify } from 'react-notify-toast';\nimport io from 'socket.io-client';\nimport { Invoice } from '../../../Interfaces/invoice';\nimport EmailInput from './EmailInput';\nimport ButtonsGroup from './ButtonsGroup';\nimport Bill from './Bill';\nimport { endpoints } from '../../../constants/endpoint';\n\nlet socket: SocketIOClient.Socket;\n\nexport default function DisplayInvoice() {\n  const invoice = useRef<any>(<div />);\n  const { id, socketId } = useParams<any>();\n\n  const [state, setState] = useState<Invoice>({\n    invoiceNumber: 1,\n    logo: '',\n    date: new Date(),\n    from: '',\n    amountText: '',\n    amount: 0,\n    concept: '',\n    sign: '',\n    currency: 'ARS',\n    pending: false,\n  });\n  const [showEmail, setShowEmail] = useState<boolean>(false);\n  const [recipient, setRecipient] = useState<string>('');\n  const [validated, setValidated] = useState(false);\n\n  /**\n   * Adapta la fecha para poder ser parseada sin necesidad de usar Moment\n   * @param input Fecha en formato (YYYY-MM-DD)\n   */\n  const dateTransformer = (input: string) => {\n    const dateWithoutTime = input.slice(0, 10);\n    const dateArray = dateWithoutTime.split('-');\n    const year: number = parseInt(dateArray[0]);\n    const month: number = parseInt(dateArray[1], 10) - 1;\n    const date: number = parseInt(dateArray[2]);\n\n    return { year, month, date };\n  };\n\n  /**\n   * Guarda el contenido del DOM a PDF para descargar\n   */\n  const exportPDFToFile = () => {\n    savePDF(invoice.current, {\n      paperSize: 'A4',\n      fileName: `Invoice - ${Intl.DateTimeFormat(navigator.language, {\n        month: 'numeric',\n        day: 'numeric',\n        year: 'numeric',\n      }).format(new Date(state.date))} - ${id}`,\n      landscape: true,\n      scale: 0.75,\n    });\n  };\n\n  /**\n   * Transformar el DOM que contiene el PDF a Base64\n   */\n  const transformPDFToBase64 = () => {\n    const base64 = drawDOM(invoice.current, {\n      paperSize: 'A4',\n      landscape: true,\n      scale: 0.75,\n    }).then((group) => exportPDF(group));\n\n    return base64;\n  };\n\n  const emitPDFViaSocket = async () => {\n    socket.emit('pdf', await transformPDFToBase64());\n  };\n\n  /**\n   * Enviar base64 del PDF por email al recipiente especificado\n   */\n  const sendEmail = async (e: any) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const file = await transformPDFToBase64();\n\n    if (form.checkValidity() === true) {\n      Axios.post(`${endpoints.backend}api/mail/send/invoice`, {\n        file,\n        date: state.date,\n        email: recipient,\n      })\n        .then(({ data }) => {\n          const { success, message } = data;\n\n          if (success) {\n            notify.show(message, 'success');\n          } else {\n            notify.show(message, 'error');\n          }\n        })\n        .catch((error) => {\n          notify.show('Ocurri칩 un error', 'error');\n        });\n    }\n\n    setValidated(true);\n  };\n\n  useEffect(() => {\n    socket = io(endpoints.backend);\n\n    Axios.get(`${endpoints.backend}api/invoice/single/${id}`).then(\n      ({ data }) => {\n        const { year, month, date } = dateTransformer(data.data.date);\n        setState({ ...data.data, date: new Date(year, month, date) });\n      }\n    );\n\n    socket.emit('join', socketId);\n\n    return () => {\n      socket.off('join');\n    };\n    // eslint-disable-next-line\n  }, [endpoints.backend]);\n\n  return (\n    <Container>\n      <Row className=\"my-5\">\n        <ButtonsGroup\n          exportPDFToFile={exportPDFToFile}\n          transformPDFToBase64={emitPDFViaSocket}\n          toggleEmailInput={() => setShowEmail(!showEmail)}\n          hasSocketId={socketId === 'no'}\n        />\n      </Row>\n      <Row className={showEmail ? 'd-block' : 'd-none'}>\n        <EmailInput\n          recipient={recipient}\n          sendEmail={(e) => sendEmail(e)}\n          setRecipient={(e) => setRecipient(e.target.value)}\n          validated={validated}\n        />\n      </Row>\n      <div ref={invoice}>\n        <Bill data={state} isOriginal />\n        <Bill data={state} />\n      </div>\n    </Container>\n  );\n}\n","import { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Col, Form, Button } from 'react-bootstrap';\n\nexport default function EmailInput({\n  sendEmail,\n  setRecipient,\n  recipient,\n  validated,\n}: {\n  sendEmail: (e: any) => void;\n  setRecipient: (e: any) => void;\n  recipient: string;\n  validated: boolean;\n}) {\n  return (\n    <Col className=\"px-5 py-3 bg-white shadow rounded\">\n      <Form noValidate onSubmit={sendEmail} validated={validated}>\n        <Form.Group>\n          <Form.Label>Direcci칩n de e-mail</Form.Label>\n          <Form.Control\n            type=\"email\"\n            value={recipient}\n            onChange={setRecipient}\n            placeholder=\"correo@server.com\"\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Se necesita un E-mail v치lido\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          <FontAwesomeIcon icon={faPaperPlane} /> Enviar\n        </Button>\n      </Form>\n    </Col>\n  );\n}\n","import {\n  faEnvelope,\n  faFileDownload,\n  faPhone,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Col, Button } from 'react-bootstrap';\n\nexport default function ButtonsGroup({\n  exportPDFToFile,\n  transformPDFToBase64,\n  toggleEmailInput,\n  hasSocketId,\n}: {\n  exportPDFToFile: () => void;\n  transformPDFToBase64: () => void;\n  toggleEmailInput: () => void;\n  hasSocketId?: boolean;\n}) {\n  return (\n    <Col className=\"p-3 bg-light text-center shadow rounded\">\n      <Button className=\"mx-2\" onClick={exportPDFToFile}>\n        <FontAwesomeIcon icon={faFileDownload} /> Descargar PDF\n      </Button>\n      <Button\n        disabled={hasSocketId}\n        className=\"mx-2\"\n        onClick={transformPDFToBase64}\n      >\n        <FontAwesomeIcon icon={faPhone} /> Enviar PDF al Tel칠fono\n      </Button>\n      <Button onClick={toggleEmailInput} className=\"mx-2\">\n        <FontAwesomeIcon icon={faEnvelope} /> Enviar copia por email\n      </Button>\n    </Col>\n  );\n}\n","import moment from 'moment';\nimport React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { Invoice } from '../../../Interfaces/invoice';\n\nexport default function Bill({\n  isOriginal = false,\n  data,\n}: {\n  isOriginal?: boolean;\n  data: Invoice;\n}) {\n  return (\n    <Row className=\"pdf-font my-5 py-5 bg-white\">\n      <Col md={1}>\n        <p\n          className=\"text-muted p-0 mb-0 text-center\"\n          style={{\n            height: 64,\n            marginTop: 150,\n            width: 109,\n            paddingLeft: 0,\n          }}\n        >\n          {isOriginal ? 'Recibo Original' : 'Recibo Duplicado'}\n        </p>\n      </Col>\n\n      <Col className=\"px-5\">\n        <Row className=\"border-bottom mt-3 pb-3\">\n          <Col>\n            {data.logo ? (\n              <>\n                <img src={data.logo} alt=\"RollingCode School\" height=\"50\" />\n                <p className=\"text-monospace\">\n                  Recibo N춿: {data.invoiceNumber}\n                </p>\n              </>\n            ) : (\n              <p className=\"text-monospace\">\n                Recibo N춿:\n                {data.invoiceNumber}\n              </p>\n            )}\n          </Col>\n\n          <Col md=\"2\" />\n\n          <Col className=\"text-center\">\n            <p className=\"my-0\">\n              <strong>Fecha: </strong>\n              {moment(data.date).format('MMMM Do [del] YYYY')}\n            </p>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n            <Row className=\"bg-light my-3\">\n              <Col md={3}>\n                <p className=\"text-center my-2\">\n                  <strong>Recib칤</strong>\n                </p>\n              </Col>\n              <Col>\n                <p className=\"my-2\">\n                  <strong>De: </strong>\n                  {data.from}\n                </p>\n              </Col>\n            </Row>\n\n            <Row className=\"bg-light my-3\">\n              <Col>\n                <p className=\"my-2\">\n                  <strong>La cantidad de: </strong>\n                  {data.amountText}\n                </p>\n              </Col>\n            </Row>\n            <Row className=\"bg-light my-3\">\n              <Col>\n                <p className=\"my-2\">\n                  <strong>En concepto de: </strong> {data.concept}\n                </p>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={2} className=\"bg-light\">\n            <p className=\"my-2\">\n              <strong>Son: </strong> {data.currency} ${data.amount}\n            </p>\n          </Col>\n          <Col />\n          <Col md={6} className=\"bg-light\">\n            <p className=\"my-2\">\n              <strong>Recibo por: </strong>\n              <img src={data.sign} height=\"120\" alt=\"signature\" />\n            </p>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  );\n}\n","/* eslint-disable jsx-a11y/no-onchange */\nimport React, { useState, useEffect, useContext } from 'react';\nimport {\n  Container,\n  Form,\n  Button,\n  Row,\n  Col,\n  InputGroup,\n  Spinner,\n} from 'react-bootstrap';\nimport {\n  faSave,\n  faTimesCircle,\n  faQrcode,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { notify } from 'react-notify-toast';\nimport Axios from 'axios';\nimport { useHistory, useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport { endpoints } from '../../../constants/endpoint';\nimport { IdGeneration } from '../../../Context/IdGeneration';\nimport { UserContext } from '../../../Context/UserContext';\nimport { Invoice } from '../../../Interfaces/invoice';\nimport ShowQRCodeModal from '../qr/ShowQRCodeModal';\n\nlet socket: SocketIOClient.Socket;\nlet socketRoomId: string;\n\nexport default function GenerateInvoice() {\n  const date = new Date().toISOString().substr(0, 10);\n\n  const axiosHeaders = localStorage.getItem('bill-token')\n    ? { headers: { auth: localStorage.getItem('bill-token') } }\n    : undefined;\n\n  const { id } = useParams<any>();\n\n  // Get uniqueId for this session\n  const { generateId } = useContext(IdGeneration);\n  const { isLoggedIn } = useContext(UserContext);\n\n  // Setting up state\n  const [state, setState] = useState<Invoice>({\n    invoiceNumber: 1,\n    date,\n    from: '',\n    amountText: '',\n    amount: 0,\n    concept: '',\n    currency: 'ARS',\n    pending: false,\n    sign: '',\n  });\n  const [validated, setValidated] = useState(false);\n  const [showQRCodeModal, setShowQRCodeModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Setting up history\n  const history = useHistory();\n\n  /**\n   * Opens and closes QRCode modal\n   */\n  const toggleShowQRCodeModal = () => {\n    setShowQRCodeModal((i) => !i);\n  };\n\n  /**\n   * Keeps track of inputs and saves them to state\n   * @param e Input\n   */\n  const handleChange = (e: any) => {\n    const { name, value, type, checked } = e.target;\n    const newValue = type === 'checkbox' ? checked : value;\n\n    setState({ ...state, [name]: newValue });\n  };\n\n  /**\n   * Saves invoice to database\n   * @param e Form\n   */\n  const handleSubmit = (e: {\n    preventDefault: () => void;\n    currentTarget?: any;\n    stopPropagation: () => void;\n  }) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsLoading(true);\n\n    const { currentTarget } = e;\n    if (!state.sign && !state.pending) {\n      notify.show('Se necesita la firma para continuar', 'error');\n      setIsLoading(false);\n      return null;\n    }\n\n    if (currentTarget.checkValidity() === false) {\n      notify.show('Please verify the form and try again', 'error');\n    } else if (id) {\n      Axios.put(\n        `${endpoints.backend}api/invoice/edit/${id}`,\n        { ...state, pending: state.sign === '' },\n        { headers: { auth: localStorage.getItem('bill-token') } }\n      )\n        .then(({ data }) => {\n          if (data.success) {\n            if (data.data._id) {\n              history.push(\n                state.pending\n                  ? '/dashboard'\n                  : `/invoice/display/${data.data._id}/${socketRoomId}`\n              );\n            }\n          }\n          notify.show(data.message, 'success');\n        })\n        .catch((err) => {\n          notify.show(\n            'Ocurri칩 un error creando el comprobante, por favor reintente',\n            'error'\n          );\n        });\n    } else {\n      Axios.post(`${endpoints.backend}api/invoice/`, { ...state }, axiosHeaders)\n        .then(({ data }) => {\n          if (data.id) {\n            history.push(\n              state.pending\n                ? '/dashboard'\n                : `/invoice/display/${data.id}/${socketRoomId}`\n            );\n          }\n          notify.show(data.message, 'success');\n        })\n        .catch((err) => {\n          notify.show(\n            'Ocurri칩 un error creando el comprobante, por favor reintente',\n            'error'\n          );\n        });\n    }\n\n    setIsLoading(false);\n    setValidated(true);\n\n    return false;\n  };\n\n  useEffect(() => {\n    socket = io(endpoints.backend);\n\n    if (id) {\n      Axios.get(`${endpoints.backend}api/invoice/single/${id}`).then(\n        ({ data }) => {\n          const newDate = data.data.date.substr(0, 10);\n          setState({ ...data.data, date: newDate });\n        }\n      );\n    }\n\n    socket.on('close', () => {\n      setShowQRCodeModal(false);\n      notify.show('Tel칠fono Conectado!', 'success');\n    });\n\n    socket.on('sign', (data: string) => {\n      setState((oldstate) => ({ ...oldstate, sign: data, pending: false }));\n    });\n\n    return () => {\n      socket.disconnect();\n      socketRoomId = '';\n    };\n\n    // eslint-disable-next-line\n  }, [endpoints.backend]);\n\n  const showQRCodeModalAndGenerateCode = async () => {\n    if (!socketRoomId) {\n      socketRoomId = generateId();\n      socket.emit('join', socketRoomId);\n    }\n    setShowQRCodeModal((i) => !i);\n  };\n\n  return (\n    <Container>\n      <ShowQRCodeModal\n        currentId={socketRoomId}\n        show={showQRCodeModal}\n        onHide={toggleShowQRCodeModal}\n      />\n      <Row className=\"h-100-minus align-items-center\">\n        <Col className=\"bg-light p-3 shadow rounded\">\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\n            <Row>\n              <Col>\n                <Form.Group>\n                  <Form.Label>Fecha</Form.Label>\n                  <Form.Control\n                    required\n                    name=\"date\"\n                    onChange={handleChange}\n                    value={state.date.toString()}\n                    type=\"date\"\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    La fecha es necesaria\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"3\">\n                <p className=\"text-center\">Recibo</p>\n              </Col>\n              <Col>\n                <Form.Group>\n                  <Form.Label>De</Form.Label>\n                  <Form.Control\n                    required\n                    name=\"from\"\n                    onChange={handleChange}\n                    value={state.from}\n                    type=\"text\"\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Form.Group>\n                  <Form.Label>Cantidad</Form.Label>\n                  <Form.Control\n                    required\n                    name=\"amountText\"\n                    onChange={handleChange}\n                    value={state.amountText}\n                    type=\"text\"\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Form.Group>\n                  <Form.Label>En concepto de</Form.Label>\n                  <Form.Control\n                    required\n                    name=\"concept\"\n                    onChange={handleChange}\n                    value={state.concept}\n                    type=\"text\"\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col sm={12} md={3}>\n                <Form.Group>\n                  <Form.Label>Cantidad</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>\n                        <select\n                          name=\"currency\"\n                          onChange={handleChange}\n                          value={state.currency}\n                          className=\"no-decoration\"\n                        >\n                          <option>ARS</option>\n                          <option>USD</option>\n                        </select>\n                      </InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      required\n                      name=\"amount\"\n                      onChange={handleChange}\n                      value={state.amount}\n                      min={1}\n                      type=\"decimal\"\n                    />\n                  </InputGroup>\n                </Form.Group>\n              </Col>\n              <Col className=\"text-right\">\n                <p className=\"lead\">Firma</p>\n              </Col>\n              <Col>\n                {state.sign ? (\n                  <img height=\"100\" src={state.sign} alt=\"signature\" />\n                ) : null}\n              </Col>\n            </Row>\n            <Row>\n              <Col className=\"text-right d-flex align-items-center justify-content-end\">\n                {isLoggedIn ? (\n                  <fieldset className=\"mr-3 py-1 px-2 border border-gray rounded\">\n                    <label htmlFor=\"pending\" className=\"m-0 p-0\">\n                      <input\n                        id=\"pending\"\n                        type=\"checkbox\"\n                        name=\"pending\"\n                        checked={state.pending}\n                        onChange={handleChange}\n                        className=\"mr-1 p-0 m-0\"\n                      />\n                      Marcar boleta para firmar luego\n                    </label>\n                  </fieldset>\n                ) : null}\n\n                <Button\n                  variant=\"info\"\n                  onClick={showQRCodeModalAndGenerateCode}\n                  className=\"mr-3\"\n                >\n                  <FontAwesomeIcon icon={faQrcode} />\n                  Mostrar QR para firmar\n                </Button>\n                <Button\n                  disabled={isLoading}\n                  variant=\"secondary\"\n                  className=\"mr-3\"\n                  onClick={() => {\n                    history.push('/');\n                  }}\n                >\n                  <FontAwesomeIcon icon={faTimesCircle} />\n                  Cancelar\n                </Button>\n                <Button disabled={isLoading} variant=\"primary\" type=\"submit\">\n                  {isLoading ? (\n                    <Spinner size=\"sm\" animation=\"border\" />\n                  ) : (\n                    <FontAwesomeIcon icon={faSave} />\n                  )}\n                  Guardar\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","// Import utilities\nimport React, { Fragment } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\n// Import context\nimport UserContextProvider from './Context/UserContext';\n\n// Import pages\nimport Home from './Pages/Home';\nimport Signup from './Pages/auth/Signup';\nimport Login from './Pages/auth/Login';\nimport Logout from './Pages/auth/Logout';\n\n// Import layout\nimport Navigation from './Layout/NavigationBar/Navigation';\nimport ShowQRCodeModal from './Pages/invoice/qr/ShowQRCodeModal';\nimport IdGenerationProvider from './Context/IdGeneration';\nimport DashboardScreen from './Pages/dashboard/DashboardScreen';\nimport PrivateRoute from './Context/PrivateRoute';\nimport Signature from './Pages/invoice/generate/Signature';\nimport DisplayInvoice from './Pages/invoice/display/DisplayInvoice';\nimport GenerateInvoice from './Pages/invoice/generate/GenerateInvoice';\n\nfunction App() {\n  return (\n    <>\n      <UserContextProvider>\n        <IdGenerationProvider>\n          <HashRouter basename={process.env.PUBLIC_URL}>\n            <Navigation />\n            <Switch>\n              {/* User authentication */}\n              <Route path=\"/signup\" component={Signup} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/logout\" component={Logout} />\n              <Route path=\"/\" exact component={Home} />\n\n              {/* Invoice */}\n              <Route path=\"/invoice/generate\" component={GenerateInvoice} />\n              <PrivateRoute\n                path=\"/invoice/edit/:id\"\n                render={() => <GenerateInvoice />}\n              />\n              <Route\n                path=\"/invoice/display/:id/:socketId\"\n                component={DisplayInvoice}\n              />\n              <Route path=\"/invoice/code/:id\" component={ShowQRCodeModal} />\n\n              {/* Dashboard */}\n              <PrivateRoute\n                path=\"/dashboard\"\n                render={() => <DashboardScreen />}\n              />\n\n              {/* Signature pad */}\n              <Route path=\"/signature/:socketId\" component={Signature} />\n              <Route\n                path=\"/offlinesignature/:invoiceId\"\n                component={Signature}\n              />\n              <Route render={() => <div>Not found</div>} />\n            </Switch>\n          </HashRouter>\n        </IdGenerationProvider>\n      </UserContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Notifications from 'react-notify-toast';\nimport './styles/customBootstrap.css';\nimport './styles/main.css';\n\nimport 'moment/locale/es';\nimport moment from 'moment-timezone';\n\nimport App from './App';\n\nmoment.tz.setDefault('America/Buenos_Aires');\nmoment.locale('es');\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Notifications\n        options={{\n          zIndex: 998,\n          top: '56px',\n          colors: {\n            error: { color: '#FFFFFF', backgroundColor: '#ff7851' },\n            success: { color: '#FFFFFF', backgroundColor: '#56cc9d' },\n          },\n        }}\n      />\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}